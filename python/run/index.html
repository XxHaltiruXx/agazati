<!DOCTYPE html>
<html lang="hu">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>(function(){var basePath="/";if(location.pathname.indexOf("/agazati/")===0){basePath="/agazati/";}var base=document.createElement("base");base.href=basePath;document.head.appendChild(base);})();</script><link  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"  rel="stylesheet"  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"  crossorigin="anonymous"/>
    <script  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"  crossorigin="anonymous"></script>
    <link  rel="shortcut icon"  href="assets/images/agazati.ico"  type="image/x-icon"/>
  <link rel="shortcut icon" href="assets/images/py.ico" type="image/x-icon" />
  <link rel="stylesheet" href="assets/css/base.css">
  <link rel="stylesheet" href="assets/css/main.css">
  <link rel="stylesheet" href="assets/css/nav.css" />
  <link rel="stylesheet" href="assets/css/utilities.css" />
  <link rel="stylesheet" href="assets/css/footer.css" />
  <link rel="stylesheet" href="assets/css/runner.css" />
  <title>Python K√≥d Futtat√≥</title>
</head>
<script src="assets/js/nav.js"></script>
 <script>
(function () {
  'use strict';

  const PYODIDE_URL = "https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js";
  const PYODIDE_INDEX = "https://cdn.jsdelivr.net/pyodide/v0.23.4/full/";
  let pyodideReady = false;

  // K√©nyelmi getterek
  function $id(id){ return document.getElementById(id); }
  const runBtn = () => $id('run');
  const outputEl = () => $id('output');
  const codeEl = () => $id('code');

  // UI seg√©df√ºggv√©nyek
  function setOutput(txt){ const o = outputEl(); if(o) o.textContent = txt; }
  function setRunEnabled(enabled){
    const btn = runBtn();
    if(!btn) return;
    btn.disabled = !enabled;
    btn.setAttribute('aria-disabled', String(!enabled));
  }

  // Inicial √°llapot: letiltjuk a futtat√≥ gombot, jelezz√ºk
  setRunEnabled(false);
  setOutput("Pyodide bet√∂lt√©se...");

  // Dinamikus, nem-blockol√≥ bet√∂lt√©s
  (function loadPyodideAsync(){
    // Ha m√°r be van t√∂ltve valahogy, ne t√∂lts√ºk √∫jra
    if (window.loadPyodide && typeof window.loadPyodide === 'function') {
      initPyodide();
      return;
    }

    const existing = Array.from(document.getElementsByTagName('script')).find(s => s.src && s.src.indexOf('pyodide') !== -1);
    if (existing) {
      // ha l√©tezik, k√∂ss√ºnk onload/onerror-re (ha lehets√©ges)
      existing.addEventListener && existing.addEventListener('load', () => initPyodide());
      existing.addEventListener && existing.addEventListener('error', () => {
        setOutput('Pyodide bet√∂lt√©se sikertelen (script hiba).');
      });
      return;
    }

    const s = document.createElement('script');
    s.src = PYODIDE_URL;
    s.type = 'text/javascript';
    s.async = true; // let√∂lt√©s p√°rhuzamosan; futtat√°s onload ut√°n
    s.onload = () => {
      // loadPyodide defin√≠ci√≥ csak most lesz el√©rhet≈ë
      initPyodide();
    };
    s.onerror = () => {
      setOutput('Pyodide bet√∂lt√©se sikertelen (network error).');
      setRunEnabled(false);
    };
    document.head.appendChild(s);
  })();

  // initPyodide megh√≠v√°sa csak akkor, ha a pyodide.js bet√∂lt≈ëd√∂tt
  async function initPyodide(){
    try {
      setOutput('Pyodide inicializ√°l√°sa...');
      // loadPyodide glob√°lis f√ºggv√©ny a pyodide.js-b≈ël
      if (typeof loadPyodide !== 'function') {
        setOutput('Pyodide bet√∂lt≈ëd√∂tt, de a loadPyodide hi√°nyzik.');
        return;
      }

      // Bet√∂lt√©s ‚Äî indexURL be√°ll√≠t√°ssal (CDN path)
      window.pyodide = await loadPyodide({ indexURL: PYODIDE_INDEX });
      pyodideReady = true;
      setOutput('Pyodide k√©szen √°ll. Haszn√°lhatsz standard k√∂nyvt√°rat.');
      setRunEnabled(true);
    } catch (err) {
      console.error('initPyodide error', err);
      setOutput('Pyodide inicializ√°l√°sa sikertelen: ' + (err && err.message ? err.message : String(err)));
      setRunEnabled(false);
    }
  }

  // Futtat√≥ wrapper ‚Äî biztons√°gosan gy≈±jti az outputot
  function makeWrapper(code) {
    // a Python k√≥dot be kell indent√°lni a try blokkban
    const indented = code.split('\n').map(line => '    ' + line).join('\n');
    return `
import sys, io, traceback
_out = io.StringIO()
_old_stdout = sys.stdout
_old_stderr = sys.stderr
sys.stdout = _out
sys.stderr = _out
try:
${indented}
except Exception:
    traceback.print_exc()
finally:
    sys.stdout = _old_stdout
    sys.stderr = _old_stderr
    print(_out.getvalue(), end='')
`;
  }

  // Run gomb esem√©ny kezel√©se ‚Äî k√∂t√ºnk r√∂gt√∂n, de viselked√ºnk ha pyodide m√©g nem ready
  function attachRunHandler() {
    const btn = runBtn();
    if (!btn) return;

    btn.addEventListener('click', async function onRunClick(e){
      e.preventDefault();
      const outEl = outputEl();
      if (!pyodideReady) {
        if (outEl) outEl.textContent = "A Pyodide m√©g t√∂lt≈ëdik, k√©rlek v√°rj...";
        return;
      }
      setRunEnabled(false);
      try {
        if (outEl) outEl.textContent = "Futtat√°s...";
        const code = (codeEl() && codeEl().value) || '';
        const wrapper = makeWrapper(code);
        await window.pyodide.runPythonAsync(wrapper);
        // lek√©rj√ºk a _out tartalm√°t
        const result = window.pyodide.runPython("_out.getvalue()") || "";
        if (outEl) outEl.textContent = result;
      } catch (err) {
        console.error('run error', err);
        if (outEl) outEl.textContent = 'Hiba: ' + (err && err.message ? err.message : String(err));
      } finally {
        setRunEnabled(true);
      }
    });
  }

  // Biztos√≠tsuk, hogy a run handler hozz√° legyen k√∂tve akkor is, ha a DOMContentLoaded m√°r megt√∂rt√©nt
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', attachRunHandler, { once: true });
  } else {
    // DOM m√°r k√©sz
    setTimeout(attachRunHandler, 0);
  }

  // Hasznos: ha valaki a konzolb√≥l szeretn√© l√°tni az √°llapotot
  try { window.__pyodide_loader = { pyodideReady: () => pyodideReady }; } catch(e){}
})();
</script>

<body>


  <header>
    <nav class="navbar navbar-expand">
      <div class="container-fluid align-items-center">
        <span onclick="toggleNav()" class="sidebargomb">&#9776;</span>
        <div class="navbar-nav">
          <a class="nav-link" href="./">f≈ëoldal</a>
          <a class="nav-link" href="html/">html</a>
          <a class="nav-link" href="css/">css</a>
          <a class="nav-link" aria-current="page" href="python/">python</a>
          <a class="nav-link" href="network/">h√°l√≥zat</a>
          <a class="nav-link" href="math/">matek</a>
        </div>
      </div>
    </nav>

  </header>

  <div id="mySidenav" class="sidenav">
    <div>
      <input type="text" id="searchNav" placeholder="üîçKeres√©s...">
      <a href="#html">HTML alapok</a>
      <a href="#css">CSS alapok</a>
      <a href="#boxmodel">Box modell</a>
      <a href="#positioning">Pozicion√°l√°s</a>
      <a href="#flexbox">Flexbox</a>
      <a href="#grid">CSS Grid</a>
      <a href="#responsive">Respons√≠v diz√°jn</a>
      <a href="#animations">CSS anim√°ci√≥k</a>
      <a href="#accessibility">Hozz√°f√©rhet≈ës√©g</a>
      <a href="python.html#python">Python alapok</a>
      <a href="network.html#szamrendszer">Sz√°mrendszerek</a>
      <a href="network.html#halozat">Cisco parancsok</a>
    </div>
  </div>


  <h2 class="cim subsite">Python futtat√≥</h2>


  <main>
    <div class="row">
      <div class="col-lg-6 col-md-12 col-sm-12" id="pyeditor">
          <textarea id="code" spellcheck="false" placeholder="√çrd vagy m√°sold ide a Python k√≥dod...">print("Hell√≥ Agazati!")</textarea>
          <button id="run">‚ñ∂ Futtat√°s</button>
      </div>
      <div class="col-lg-6 col-md-12 col-sm-12" id="outputArea">
        <pre id="output"></pre>
      </div>
    </div>
  </main>
  
  <script src="assets/js/footer.js"></script>

</body>

</html>